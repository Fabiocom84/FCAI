<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registro Presenze - Segretario AI</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style-v2.css">
    
    <link rel="stylesheet" href="registro-presenze.css">

</head>

<body>
    <div class="main-content-wrapper">
        <header class="page-header">
            <a href="index.html" class="header-button">
                <img src="img/log-out.png" alt="Home" style="transform: rotate(180deg); filter: brightness(0) invert(1);">
                <span>Home</span>
            </a>
            <h1>Registro Presenze</h1>
            <button class="help-button" data-legend="presenzeLegend">?</button>
        </header>

        <div class="presenze-controls">
            <h2 id="current-month-display">OTTOBRE 2025</h2>
            <input type="search" id="search-notes" placeholder="Cerca nelle note...">
        </div>

        <div class="timeline-container">
            <table class="timeline-table">
                <thead>
                    <tr id="header-row">
                        <th style="position: -webkit-sticky; position: sticky; left: 0; z-index: 15;">Operatore</th>
                        </tr>
                </thead>
                <tbody id="timeline-body">
                    </tbody>
            </table>
        </div>
    </div>

    <div id="presenzeLegend" class="legend" style="display: none; max-width: 450px;">
        <h3>Aiuto - Registro Presenze</h3>
        <div class="legend-item">
            <div class="legend-text">
                <strong>Modifica una Cella:</strong> Fai clic su una cella qualsiasi per iniziare a inserire i dati.
            </div>
        </div>
        <div class="legend-item">
            <div class="legend-text">
                <strong>Salvataggio Rapido:</strong> Premi <strong>Invio</strong> o fai clic fuori dalla cella per salvare automaticamente.
            </div>
        </div>
        <div class="legend-item">
            <div class="legend-text">
                <strong>Annulla Modifica:</strong> Premi <strong>Esc</strong> per annullare le modifiche prima di salvare.
            </div>
        </div>
        <hr>
        <h4>Comandi Rapidi:</h4>
        <div class="legend-item">
            <div class="legend-text">
                Puoi combinare pi√π comandi separandoli con uno spazio (es. <strong><code>4 \q +Permesso mattina</code></strong>).
            </div>
        </div>
        <div class="legend-item"><div class="legend-text"><strong><code>8</code></strong> o <strong><code>4.5</code></strong> : Inserisce le ore lavorate.</div></div>
        <div class="legend-item"><div class="legend-text"><strong><code>\z</code></strong> : Imposta lo stato su <strong>Ferie</strong>.</div></div>
        <div class="legend-item"><div class="legend-text"><strong><code>\a</code></strong> : Imposta lo stato su <strong>Malattia</strong>.</div></div>
        <div class="legend-item"><div class="legend-text"><strong><code>\q</code></strong> : Imposta lo stato su <strong>Permesso</strong>.</div></div>
        <div class="legend-item"><div class="legend-text"><strong><code>\w</code></strong> : Imposta lo stato su <strong>Cantiere</strong>.</div></div>
        <div class="legend-item"><div class="legend-text"><strong><code>+Testo...</code></strong> : Aggiunge una nota visualizzabile al passaggio del mouse.</div></div>
        <hr>
        <div class="legend-item">
             <span style="font-size: 20px; margin-right: 10px;">üóëÔ∏è</span>
            <div class="legend-text">
                <strong>Elimina Voce:</strong> Clicca sull'icona del cestino che appare accanto a un dato inserito per cancellare la registrazione.
            </div>
        </div>
    </div>

    <script type="module" src="js/api-client.js"></script>
    
    <script type="module" src="js/registro-presenze.js"></script>

    </body>
</html>